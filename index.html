<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Ti√™u ƒë·ªÅ v√† m√¥ t·∫£ cho Google Search -->
    <title>DreamStay - Ph√≤ng Tr·ªç Cao C·∫•p Cho Gi·ªõi Tr·∫ª</title>
    <meta name="description"
        content="T√¨m ki·∫øm ph√≤ng tr·ªç, cƒÉn h·ªô mini cao c·∫•p v·ªõi ƒë·∫ßy ƒë·ªß ti·ªán nghi, gi√° c·∫£ ∆∞u ƒë√£i v√† kh√¥ng gian s·ªëng hi·ªán ƒë·∫°i. Xem ngay ph√≤ng tr·ªëng!">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;700;900&display=swap"
        rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* T√πy ch·ªânh font ch·ªØ v√† m√†u s·∫Øc */
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            background-color: #0a0a1a;
            color: #e0e0e0;
        }

        /* Hi·ªáu ·ª©ng gradient cho text */
        .gradient-text {
            background: linear-gradient(90deg, #f87171, #ec4899, #8b5cf6, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
        }

        /* Hi·ªáu ·ª©ng vi·ªÅn gradient cho card */
        .gradient-border {
            border: 2px solid transparent;
            background-clip: padding-box;
            position: relative;
        }

        .gradient-border::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            z-index: -1;
            margin: -2px;
            border-radius: inherit;
            background: linear-gradient(to right, #8b5cf6, #ec4899);
        }

        /* Hi·ªáu ·ª©ng glow khi hover */
        .card-hover-glow:hover {
            box-shadow: 0 0 25px rgba(236, 72, 153, 0.5), 0 0 10px rgba(139, 92, 246, 0.3);
            transform: translateY(-5px);
        }
    </style>
</head>

<body class="antialiased">
    <div class="min-h-screen w-full bg-cover bg-center bg-fixed"
        style="background-image: url('https://images.unsplash.com/photo-1554469384-e58fac166814?q=80&w=2574&auto=format&fit=crop');">
        <div class="min-h-screen w-full bg-black bg-opacity-80 backdrop-blur-sm">
            <div class="container mx-auto px-4 py-8 md:py-16">

                <!-- HERO SECTION -->
                <header class="text-center mb-12 md:mb-20">
                    <h1 class="text-4xl md:text-7xl font-black uppercase tracking-wider gradient-text">
                        Kh√¥ng Gian S·ªëng ƒê·∫≥ng C·∫•p
                    </h1>
                    <p class="mt-4 text-lg md:text-2xl text-gray-300 max-w-3xl mx-auto">
                        N∆°i kh·ªüi ƒë·∫ßu cho nh·ªØng gi·∫•c m∆°. T√¨m ngay cƒÉn ph√≤ng ho√†n h·∫£o d√†nh cho b·∫°n v·ªõi m·ª©c gi√° ∆∞u ƒë√£i ch∆∞a
                        t·ª´ng c√≥!
                    </p>
                </header>

                <!-- COUNTDOWN TIMER SECTION -->
                <div id="countdown-section" class="mb-12 md:mb-20 hidden">
                    <h2 class="text-center text-2xl md:text-3xl font-bold text-white mb-6">
                        üî• ∆Øu ƒë√£i ƒë·ªôc quy·ªÅn s·∫Øp k·∫øt th√∫c! üî•
                    </h2>
                    <div id="countdown-timer"
                        class="flex justify-center items-center space-x-2 md:space-x-6 text-white">
                        <!-- Timer items will be generated by JS -->
                    </div>
                </div>

                <!-- ROOMS LISTING SECTION -->
                <main>
                    <div id="loading-spinner" class="text-center">
                        <svg class="animate-spin h-10 w-10 text-pink-500 mx-auto" xmlns="http://www.w3.org/2000/svg"
                            fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4">
                            </circle>
                            <path class="opacity-75" fill="currentColor"
                                d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                            </path>
                        </svg>
                        <p class="mt-2 text-lg">ƒêang t·∫£i danh s√°ch ph√≤ng...</p>
                    </div>

                    <div id="rooms-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Room cards will be inserted here by JavaScript -->
                    </div>
                </main>

                <!-- FOOTER -->
                <footer class="text-center mt-16 md:mt-24 text-gray-400">
                    <p class="text-2xl font-bold">DreamStay</p>
                    <p>Li√™n h·ªá ngay: <a href="tel:0987654321"
                            class="font-bold text-pink-400 hover:text-pink-300">0987.654.321</a> (Mr. An)</p>
                    <p>ƒê·ªãa ch·ªâ: 123 ƒê∆∞·ªùng ABC, Ph∆∞·ªùng XYZ, Qu·∫≠n 1, TP. H·ªì Ch√≠ Minh</p>
                    <p class="mt-4 text-sm">&copy; 2025 DreamStay. All rights reserved.</p>
                </footer>
            </div>
        </div>
    </div>

    <script>
        // --- CONFIGURATION ---
        // !!! QUAN TR·ªåNG: D√°n URL ·ª©ng d·ª•ng web b·∫°n ƒë√£ sao ch√©p ·ªü B∆∞·ªõc 2 v√†o ƒë√¢y
        const GOOGLE_SHEET_API_URL = 'URL_CUA_BAN_O_DAY';

        // --- DOM ELEMENTS ---
        const roomsGrid = document.getElementById('rooms-grid');
        const loadingSpinner = document.getElementById('loading-spinner');
        const countdownSection = document.getElementById('countdown-section');
        const countdownTimerEl = document.getElementById('countdown-timer');

        // --- HELPER FUNCTIONS ---

        /**
         * ƒê·ªãnh d·∫°ng s·ªë th√†nh ti·ªÅn t·ªá Vi·ªát Nam (VND).
         * @param {number} number - S·ªë c·∫ßn ƒë·ªãnh d·∫°ng.
         * @returns {string} - Chu·ªói ƒë√£ ƒë·ªãnh d·∫°ng (v√≠ d·ª•: "3.000.000 ‚Ç´").
         */
        function formatCurrency(number) {
            if (isNaN(number) || number === null || number === '') return '';
            return new Intl.NumberFormat('vi-VN', {
                style: 'currency',
                currency: 'VND'
            }).format(number);
        }

        /**
         * T·∫°o HTML cho m·ªôt th·∫ª ph√≤ng.
         * @param {object} room - ƒê·ªëi t∆∞·ª£ng ch·ª©a th√¥ng tin ph√≤ng.
         * @returns {string} - Chu·ªói HTML c·ªßa th·∫ª ph√≤ng.
         */
        function createRoomCard(room) {
            const isAvailable = room.TrangThai.toLowerCase() === 'tr·ªëng';
            const hasPromo = room.GiaKhuyenMai && room.NgayHetHanKM;

            const statusBadge = isAvailable ?
                `<div class="absolute top-4 right-4 text-xs font-bold bg-green-500 text-white py-1 px-3 rounded-full shadow-lg">C√íN TR·ªêNG</div>` :
                `<div class="absolute top-4 right-4 text-xs font-bold bg-red-600 text-white py-1 px-3 rounded-full shadow-lg">ƒê√É THU√ä</div>`;

            const priceSection = hasPromo ?
                `
                    <p class="text-gray-400 text-lg">Gi√° g·ªëc: <span class="line-through">${formatCurrency(room.Gia)}</span></p>
                    <p class="gradient-text text-3xl font-extrabold">${formatCurrency(room.GiaKhuyenMai)}/th√°ng</p>
                ` :
                `<p class="gradient-text text-3xl font-extrabold">${formatCurrency(room.Gia)}/th√°ng</p>`;

            return `
                <div class="relative bg-gray-900/70 backdrop-blur-md p-6 rounded-2xl shadow-2xl transition-all duration-300 card-hover-glow ${!isAvailable ? 'opacity-50' : ''}">
                    ${statusBadge}
                    <h3 class="text-2xl font-bold text-white mb-2 pr-20">${room.TenPhong}</h3>
                    <div class="my-4">
                        ${priceSection}
                        <p class="text-gray-300 text-sm mt-1">+ ${formatCurrency(room.PhiDichVu)} ph√≠ d·ªãch v·ª•</p>
                    </div>
                    <div class="mt-4 pt-4 border-t border-gray-700">
                        <a href="tel:0987654321" class="block w-full text-center bg-pink-600 hover:bg-pink-700 text-white font-bold py-3 px-4 rounded-lg transition-transform duration-300 hover:scale-105">
                            Li√™n H·ªá Ngay
                        </a>
                    </div>
                </div>
            `;
        }

        /**
         * C·∫≠p nh·∫≠t ƒë·ªìng h·ªì ƒë·∫øm ng∆∞·ª£c.
         * @param {string} targetDateString - Chu·ªói ng√†y th√°ng h·∫øt h·∫°n (YYYY-MM-DD HH:MM:SS).
         */
        function updateCountdown(targetDateString) {
            const targetDate = new Date(targetDateString).getTime();

            const interval = setInterval(() => {
                const now = new Date().getTime();
                const distance = targetDate - now;

                if (distance < 0) {
                    clearInterval(interval);
                    countdownSection.innerHTML =
                        '<h2 class="text-center text-2xl md:text-3xl font-bold text-red-500 mb-6">R·∫•t ti·∫øc, ∆∞u ƒë√£i ƒë√£ k·∫øt th√∫c!</h2>';
                    return;
                }

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                countdownTimerEl.innerHTML = `
                    <div class="text-center p-2 md:p-4 bg-white/10 rounded-lg w-20 md:w-28">
                        <div class="text-3xl md:text-5xl font-black">${String(days).padStart(2, '0')}</div>
                        <div class="text-xs md:text-sm uppercase">Ng√†y</div>
                    </div>
                    <div class="text-center p-2 md:p-4 bg-white/10 rounded-lg w-20 md:w-28">
                        <div class="text-3xl md:text-5xl font-black">${String(hours).padStart(2, '0')}</div>
                        <div class="text-xs md:text-sm uppercase">Gi·ªù</div>
                    </div>
                    <div class="text-center p-2 md:p-4 bg-white/10 rounded-lg w-20 md:w-28">
                        <div class="text-3xl md:text-5xl font-black">${String(minutes).padStart(2, '0')}</div>
                        <div class="text-xs md:text-sm uppercase">Ph√∫t</div>
                    </div>
                    <div class="text-center p-2 md:p-4 bg-white/10 rounded-lg w-20 md:w-28">
                        <div class="text-3xl md:text-5xl font-black">${String(seconds).padStart(2, '0')}</div>
                        <div class="text-xs md:text-sm uppercase">Gi√¢y</div>
                    </div>
                `;
            }, 1000);
        }

        // --- MAIN LOGIC ---

        // Ch·∫°y khi trang ƒë∆∞·ª£c t·∫£i
        document.addEventListener('DOMContentLoaded', async () => {
            if (GOOGLE_SHEET_API_URL ===
                'https://script.google.com/macros/s/AKfycbz6fBtzhkfj_0RmRoI_8IJ509m53V-whCR7ud7FSnzeFPynMz6Y11bvkRLoNo94ntBTDQ/exec'
                ) {
                loadingSpinner.innerHTML =
                    '<p class="text-red-500 text-xl font-bold">L·ªñI: Vui l√≤ng c·∫≠p nh·∫≠t GOOGLE_SHEET_API_URL trong file index.html!</p>';
                return;
            }

            try {
                // G·ªçi API ƒë·ªÉ l·∫•y d·ªØ li·ªáu
                const response = await fetch(GOOGLE_SHEET_API_URL);
                if (!response.ok) {
                    throw new Error(`L·ªói m·∫°ng: ${response.statusText}`);
                }
                const rooms = await response.json();

                // ·∫®n spinner v√† hi·ªÉn th·ªã danh s√°ch ph√≤ng
                loadingSpinner.style.display = 'none';

                if (rooms && rooms.length > 0) {
                    rooms.forEach(room => {
                        roomsGrid.innerHTML += createRoomCard(room);
                    });

                    // T√¨m ph√≤ng ƒë·∫ßu ti√™n c√≥ khuy·∫øn m√£i ƒë·ªÉ l√†m m·ªëc cho ƒë·ªìng h·ªì
                    const promoRoom = rooms.find(r => r.NgayHetHanKM);
                    if (promoRoom) {
                        countdownSection.classList.remove('hidden');
                        updateCountdown(promoRoom.NgayHetHanKM);
                    }

                } else {
                    roomsGrid.innerHTML =
                        '<p class="text-center text-xl col-span-full">Ch∆∞a c√≥ th√¥ng tin ph√≤ng n√†o.</p>';
                }

            } catch (error) {
                console.error('Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu ph√≤ng:', error);
                loadingSpinner.innerHTML =
                    `<p class="text-red-500 text-xl font-bold text-center">ƒê√£ x·∫£y ra l·ªói khi t·∫£i d·ªØ li·ªáu. Vui l√≤ng ki·ªÉm tra l·∫°i URL API v√† ƒë·∫£m b·∫£o Google Sheet ƒë√£ ƒë∆∞·ª£c chia s·∫ª c√¥ng khai.</p>`;
            }
        });
    </script>
</body>

</html>
